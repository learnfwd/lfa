doctype html
html(lang= global.options.language)
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge, chrome=1')
    meta(name="viewport", content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui")

    title= book_title
    
    +browser-warning-head

    link(type='text/css', rel='stylesheet', media='screen', href='css/master.css')
  body
    .menu
      .menu-item.menu-item-left#leftbar-toggle: i.fa.fa-bars.fa-fw.menu-item-contents
      .menu-item.menu-item-right#rightbar-toggle: i.fa.fa-question.fa-fw.menu-item-contents
    .navigation-menu
      a.menu-item.menu-item-left#previous-chapter: i.fa.fa-chevron-left.menu-item-contents
      a.menu-item.menu-item-right#next-chapter: i.fa.fa-chevron-right.menu-item-contents
    
    nav#leftbar
      //- this will be done on runtime
      //+toc(toc)
    
    - var scrollViewLocked = global.options.browser_warning ? 'locked' : '';
    #scrollview(class=scrollViewLocked)
      section.container
        #content.row
          #textbook.col-lg-8.col-lg-offset-2.col-md-8.col-md-offset-2.col-sm-10.col-sm-offset-1.col-xs-12
            article
              section
                +error-message()
    
    aside#rightbar
      +rightbar()

    +browser-warning-content

    script(type='text/javascript', data-main="lfa/js/main", src="lfa/js/lib/require.min.js")
    
    //- this must be included for live reload to work in development
    //- it will be automatically ignored when deployed
    != livereload
